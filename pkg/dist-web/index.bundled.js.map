{"version":3,"file":"index.bundled.js","sources":["../../node_modules/scroll-snap-api/dist-web/index.js","index.js"],"sourcesContent":["function scrollSnapToNext(element, direction, scrollToOptions = { behavior: 'smooth' }) {\r\n    // Pretend we're already this many pixels past the current scroll point in the direction we want to go.\r\n    // Helps avoid rounding errors in element sizes.\r\n    let scrollFuzz = 2;\r\n    const axis = (direction === 'up' || direction === 'down') ? 'y' : 'x';\r\n    const sign = (direction === 'right' || direction === 'down') ? '+' : '-';\r\n    const maxScroll = (axis === 'x') ?\r\n        element.scrollWidth - element.offsetWidth :\r\n        element.scrollHeight - element.offsetHeight;\r\n    const scrollSnapPositions = getScrollSnapPositions(element)[axis];\r\n    if (sign === '-') {\r\n        scrollFuzz *= -1;\r\n    }\r\n    const currentScrollPosition = element[axis === 'x' ? 'scrollLeft' : 'scrollTop'] + scrollFuzz;\r\n    const nextScrollPositions = scrollSnapPositions\r\n        .filter(pos => {\r\n        if (sign === '+') {\r\n            return pos > currentScrollPosition;\r\n        }\r\n        else {\r\n            return pos < currentScrollPosition;\r\n        }\r\n    })\r\n        .sort((a, b) => sign === '+' ? a - b : b - a);\r\n    let nextScrollPosition;\r\n    if (nextScrollPositions.length > 0) {\r\n        nextScrollPosition = nextScrollPositions[0];\r\n    }\r\n    else {\r\n        if (sign === '+') {\r\n            nextScrollPosition = maxScroll;\r\n        }\r\n        else {\r\n            nextScrollPosition = 0;\r\n        }\r\n    }\r\n    // scrollTo might return a promise in the future\r\n    return element.scrollTo({\r\n        ...scrollToOptions,\r\n        [axis === 'x' ? 'left' : 'top']: nextScrollPosition,\r\n    });\r\n}\r\nfunction getScrollPadding(element) {\r\n    const style = window.getComputedStyle(element);\r\n    const rect = element.getBoundingClientRect();\r\n    let xBeforeRaw = style.getPropertyValue('scroll-padding-left').replace('auto', '0px');\r\n    let yBeforeRaw = style.getPropertyValue('scroll-padding-top').replace('auto', '0px');\r\n    let xAfterRaw = style.getPropertyValue('scroll-padding-right').replace('auto', '0px');\r\n    let yAfterRaw = style.getPropertyValue('scroll-padding-bottom').replace('auto', '0px');\r\n    /**\r\n     * Convert a CSS length to a number.\r\n     * @param raw CSS length value\r\n     * @param size Parent size, used for percentage lengths\r\n     */\r\n    function convert(raw, size) {\r\n        let n = parseFloat(raw);\r\n        if (/%/.test(raw)) {\r\n            n /= 100;\r\n            n *= size;\r\n        }\r\n        return n;\r\n    }\r\n    let xBefore = convert(xBeforeRaw, rect.width);\r\n    let yBefore = convert(yBeforeRaw, rect.height);\r\n    let xAfter = convert(xAfterRaw, rect.width);\r\n    let yAfter = convert(yAfterRaw, rect.height);\r\n    return {\r\n        x: {\r\n            before: xBefore,\r\n            after: xAfter,\r\n        },\r\n        y: {\r\n            before: yBefore,\r\n            after: yAfter,\r\n        },\r\n    };\r\n}\r\nfunction domRectIntersects(a, b, axis = 'both') {\r\n    return (axis === 'x' &&\r\n        a.right >= b.left &&\r\n        a.left <= b.right) || (axis === 'y' &&\r\n        a.bottom >= b.top &&\r\n        a.top <= b.bottom) || (axis === 'both' &&\r\n        a.right >= b.left &&\r\n        a.left <= b.right &&\r\n        a.bottom >= b.top &&\r\n        a.top <= b.bottom);\r\n}\r\nfunction getAllDescendants(parent) {\r\n    let children = [];\r\n    for (const child of parent.children) {\r\n        children = children.concat(child, getAllDescendants(child));\r\n    }\r\n    return children;\r\n}\r\nfunction getSnapPositions(parent, excludeOffAxis = true) {\r\n    const parentRect = parent.getBoundingClientRect();\r\n    const positions = {\r\n        x: {\r\n            start: [],\r\n            center: [],\r\n            end: [],\r\n        },\r\n        y: {\r\n            start: [],\r\n            center: [],\r\n            end: [],\r\n        },\r\n    };\r\n    const descendants = getAllDescendants(parent);\r\n    for (const axis of ['x', 'y']) {\r\n        const orthogonalAxis = axis === 'x' ? 'y' : 'x';\r\n        const axisStart = axis === 'x' ? 'left' : 'top';\r\n        const axisSize = axis === 'x' ? 'width' : 'height';\r\n        const axisScroll = axis === 'x' ? 'scrollLeft' : 'scrollTop';\r\n        for (const child of descendants) {\r\n            const childRect = child.getBoundingClientRect();\r\n            // Skip child if it doesn't intersect the parent's opposite axis (it can never be in view)\r\n            if (excludeOffAxis && !domRectIntersects(parentRect, childRect, orthogonalAxis)) {\r\n                continue;\r\n            }\r\n            const childStyle = window.getComputedStyle(child);\r\n            let [childAlignY, childAlignX] = childStyle.getPropertyValue('scroll-snap-align').split(' ');\r\n            if (typeof childAlignX === 'undefined') {\r\n                childAlignX = childAlignY;\r\n            }\r\n            const childAlign = axis === 'x' ? childAlignX : childAlignY;\r\n            const childOffsetStart = childRect[axisStart] - parentRect[axisStart] + parent[axisScroll];\r\n            switch (childAlign) {\r\n                case 'none':\r\n                    break;\r\n                case 'start':\r\n                    positions[axis].start.push(childOffsetStart);\r\n                    break;\r\n                case 'center':\r\n                    positions[axis].center.push(childOffsetStart + (childRect[axisSize] / 2));\r\n                    break;\r\n                case 'end':\r\n                    positions[axis].end.push(childOffsetStart + childRect[axisSize]);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    return positions;\r\n}\r\nfunction getScrollSnapPositions(element) {\r\n    const rect = element.getBoundingClientRect();\r\n    const scrollPadding = getScrollPadding(element);\r\n    const snapPositions = getSnapPositions(element);\r\n    const maxScroll = {\r\n        x: element.scrollWidth - element.offsetWidth,\r\n        y: element.scrollHeight - element.offsetHeight,\r\n    };\r\n    const clamp = (min, max) => (value) => Math.max(min, Math.min(max, value));\r\n    return {\r\n        x: unique([\r\n            ...snapPositions.x.start.map(v => v - scrollPadding.x.before),\r\n            ...snapPositions.x.center.map(v => v - (rect.width / 2)),\r\n            ...snapPositions.x.end.map(v => v - rect.width + scrollPadding.x.after),\r\n        ]\r\n            .map(clamp(0, maxScroll.x))),\r\n        y: unique([\r\n            ...snapPositions.y.start.map(v => v - scrollPadding.y.before),\r\n            ...snapPositions.y.center.map(v => v - (rect.height / 2)),\r\n            ...snapPositions.y.end.map(v => v - rect.height + scrollPadding.y.after),\r\n        ]\r\n            .map(clamp(0, maxScroll.y))),\r\n    };\r\n}\r\nfunction unique(iterable) {\r\n    return Array.from(new Set(iterable));\r\n}\n\nexport { getScrollPadding, getScrollSnapPositions, getSnapPositions, scrollSnapToNext };\n//# sourceMappingURL=index.js.map\n","import { scrollSnapToNext, getScrollSnapPositions } from 'scroll-snap-api';\n\nclass ScrollSnapArrows {\r\n    constructor(element) {\r\n        this.element = element;\r\n        this.arrows = {\r\n            left: [],\r\n            right: [],\r\n            up: [],\r\n            down: [],\r\n        };\r\n        this.directions = ['left', 'right', 'up', 'down'];\r\n        this.populateArrows();\r\n        this.addEventListeners();\r\n    }\r\n    populateArrows() {\r\n        for (const direction of this.directions) {\r\n            const dataAttribute = 'scrollSnapArrow' + (capitalize(direction));\r\n            const selector = this.element.dataset[dataAttribute];\r\n            if (selector) {\r\n                for (const arrow of document.querySelectorAll(selector)) {\r\n                    this.addArrow(direction, arrow);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    addEventListeners() {\r\n        this.element.addEventListener('scroll', debounce(this.updateArrows.bind(this), 100));\r\n    }\r\n    addArrow(direction, element) {\r\n        this.arrows[direction].push(element);\r\n        element.addEventListener('click', this.arrowOnClick.bind(this, direction));\r\n        this.updateArrows();\r\n    }\r\n    arrowOnClick(direction) {\r\n        scrollSnapToNext(this.element, direction);\r\n    }\r\n    updateArrows() {\r\n        const positions = getScrollSnapPositions(this.element);\r\n        const [positionsLeft, positionsRight] = bifurcate(positions.x, this.element.scrollLeft, 2);\r\n        const [positionsUp, positionsDown] = bifurcate(positions.y, this.element.scrollTop, 2);\r\n        this.toggleArrows('left', positionsLeft.length > 0);\r\n        this.toggleArrows('right', positionsRight.length > 0);\r\n        this.toggleArrows('up', positionsUp.length > 0);\r\n        this.toggleArrows('down', positionsDown.length > 0);\r\n    }\r\n    toggleArrows(direction, show) {\r\n        this.arrows[direction].forEach(arrow => arrow.hidden = !show);\r\n    }\r\n}\r\nfunction capitalize(text) {\r\n    if (text.length === 0)\r\n        return '';\r\n    return text.substr(0, 1).toUpperCase() + text.substr(1);\r\n}\r\nfunction debounce(fn, timeout) {\r\n    let old;\r\n    return (...args) => {\r\n        if (old) {\r\n            clearTimeout(old);\r\n        }\r\n        old = window.setTimeout(fn, timeout, ...args);\r\n    };\r\n}\r\nfunction bifurcate(items, midpoint, threshold = 0) {\r\n    const lesser = [];\r\n    const greater = [];\r\n    items.forEach(item => {\r\n        if (Math.abs(item - midpoint) <= threshold) {\r\n            return; // Too close\r\n        }\r\n        if (item < midpoint) {\r\n            lesser.push(item);\r\n        }\r\n        if (item > midpoint) {\r\n            greater.push(item);\r\n        }\r\n    });\r\n    return [lesser, greater];\r\n}\n\nexport { ScrollSnapArrows };\n//# sourceMappingURL=index.js.map\n"],"names":[],"mappings":"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"}